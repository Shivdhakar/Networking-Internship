\# Lab: L3 Switch — Inter-VLAN Routing (Student Notes) ## Objective Configure Inter-VLAN routing on a Layer-3 switch so hosts in different VLANs can communicate. ## Devices Required - 1 × Layer-3 Switch (e.g., Cisco 3560) - 1 × Access Switch (optional) - 2 × PCs - Straight-through Ethernet cables (PC → Access Switch / L3 switch), crossover not required in Packet Tracer ## Physical Topology (simple) PC1 --- Fa0/1 (Access Switch) --- Gi0/1 (L3 Switch) PC2 --- Fa0/1 (Access Switch) --- Gi0/2 (L3 Switch) (Or directly) PC1 --- Fa0/1 (L3 Switch) PC2 --- Fa0/2 (L3 Switch) vbnet Copy code ## Cabling - PC NIC → Switch Access Port: straight-through cable - Access Switch → L3 Switch (trunk): straight-through cable (configure trunking on both ends) ## IP Addressing Table | Device | Interface | VLAN | IP Address | Subnet Mask | Default Gateway | |--------|-----------|------|------------|-------------|-----------------| | PC1 | NIC | 10 | 192.168.10.10 | 255.255.255.0 | 192.168.10.1 | | PC2 | NIC | 20 | 192.168.20.10 | 255.255.255.0 | 192.168.20.1 | | L3 Switch | SVI VLAN 10 | 10 | 192.168.10.1 | 255.255.255.0 | - | | L3 Switch | SVI VLAN 20 | 20 | 192.168.20.1 | 255.255.255.0 | - | ## Step-by-step (physical → IP → CLI) ### 1) Physically connect devices 1. Connect PC1 to Switch port Fa0/1. 2. Connect PC2 to Switch port Fa0/2. 3. If using a separate access switch, connect access switch port (to PCs) to L3 switch trunk port (Gi0/1). If using only the L3 switch, PCs connect directly to the L3 switch access ports. ### 2) Configure VLANs on the L3 switch Enter privileged mode and create VLANs: \`\`\`bash enable configure terminal vlan 10 name SALES exit vlan 20 name MARKETING exit 3) Assign switch ports to VLANs (access ports) If PCs are connected directly to the L3 switch: bash Copy code interface range fa0/1 switchport mode access switchport access vlan 10 exit interface range fa0/2 switchport mode access switchport access vlan 20 exit If you used a separate access switch, perform the same access-port commands on that access switch, not on the L3 switch. 4) Configure trunk between access switch and L3 switch (if using access switch) On Access Switch (port toward L3): bash Copy code interface gig0/1 switchport trunk encapsulation dot1q ! (if supported) switchport mode trunk exit On L3 Switch (port toward access switch): bash Copy code interface gig0/1 switchport trunk encapsulation dot1q ! (if supported) switchport mode trunk exit If the L3 device requires no switchport for routed ports, use subinterfaces on a router instead. (For a normal multilayer switch, use switchport mode trunk.) 5) Enable IP routing on the L3 switch bash Copy code configure terminal ip routing exit 6) Create SVIs (Switch Virtual Interfaces) and assign IPs bash Copy code configure terminal interface vlan 10 ip address 192.168.10.1 255.255.255.0 no shutdown exit interface vlan 20 ip address 192.168.20.1 255.255.255.0 no shutdown exit 7) Configure PCs (manual) or use DHCP (optional) On PC1 (manual): IP: 192.168.10.10 Subnet mask: 255.255.255.0 Gateway: 192.168.10.1 On PC2 (manual): IP: 192.168.20.10 Subnet mask: 255.255.255.0 Gateway: 192.168.20.1 8) Save configuration bash Copy code write memory Verification (commands & expected results) On the L3 switch: bash Copy code show vlan brief ! VLANs exist and ports assigned show ip interface brief ! SVIs up and IPs assigned show ip route ! Should show connected routes for 192.168.10.0/24 and 192.168.20.0/24 show running-config ! Verify SVIs and 'ip routing' present From PC1: bash Copy code ping 192.168.10.1 ! ping local gateway - should reply ping 192.168.20.10 ! ping PC2 across VLANs - should reply if routing works. write it in markdown laguage
